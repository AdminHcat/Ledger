{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Home Ledger is a server-side logging plugin for Minecraft 1.17. Ledger has been written from scratch in Kotlin to solve the main issues of previous logging mods have encountered.","title":"Home"},{"location":"#home","text":"Ledger is a server-side logging plugin for Minecraft 1.17. Ledger has been written from scratch in Kotlin to solve the main issues of previous logging mods have encountered.","title":"Home"},{"location":"actions/","text":"Actions These are the currently logged action types: block-break block-place item-insert item-remove entity-killed","title":"Actions"},{"location":"actions/#actions","text":"These are the currently logged action types: block-break block-place item-insert item-remove entity-killed","title":"Actions"},{"location":"config/","text":"Configuration Ledger's configuration file is found in config/ledger.toml . It is written in TOML and can be edited in any text editor. Any changes you make to the config will be automatically updated without needing to reload or restart the server. When checking for the config for a value, it first checks the system properties, then the system environment, then the config file and finally it will use the default. For more info, read about Konf . To regenerate the config file, simply delete it. Database settings Found under [database] queueTimeoutMin [Default: 5] is the maximum amount of time to wait for the queue to drain when the server stops in minutes queueCheckDelaySec [Default: 10] is the amount of time between checking if the queue is empty when the server stops in seconds Search settings Found under [search] pageSize [Default: 8] controls the number of actions displayed per page Message theme Found under [color] Ledger allows for the customisation of the colors used in the messages sent in game. By default, Ledger uses the blue theme. More themes can be found in the themes file Filters These allow you to control what is and is not logged Found under [actions] All listed here are arrays and are formatted like so: array = [] blocks = [\"minecraft:air\", \"minecraft:dirt\"] typeBlacklist [Default: empty] controls what action types are logged. Hover over the action in a chat message to see the type worldBlacklist [Default: empty] controls in which dimensions events are logged. objectBlacklist [Default: empty] controls which objects are logged. These can be item types, block types or entities sourceBlacklist [Default: empty] controls which sources are logged. Examples are \"lava\" and \"gravity\" Default Config [database] # The maximum amount of time to wait for the queue to drain when the server stops queueTimeoutMin = 5 # The amount of time between checking if the queue is empty when the server stops queueCheckDelaySec = 10 [search] # Number of actions to show per page pageSize = 8 [color] # Colors in hex format primary = \"#009688\" primaryVariant = \"#52c7b8\" secondary = \"#1e88e5\" secondaryVariant = \"#6ab7ff\" light = \"#c5d6f0\" [actions] # Blacklists - blacklisted things will not be logged in the database # Example - Prevent all actions with stone or bat as the object from being logged # objectBlacklist = [ # \"minecraft:stone\", # \"minecraft:bat\" # ] # Blacklists action types. Ex: \"block-break\", \"entity-kill\" typeBlacklist = [] # Blacklists worlds/dimensions. Ex: \"mincraft:the_end\", \"minecraft:overworld\" worldBlacklist = [] # Blacklists objects (Items, Mobs, Blocks). Ex: \"minecraft:cobblestone\", \"minecraft:blaze\" objectBlacklist = [] # Blacklists sources. Ex: \"lava\", \"gravity\", \"fire\", \"fall\" sourceBlacklist = [] [networking] # This section relates to Ledger's ability to interact with client mods for ease of use # Networking is enabled by default but you can disable and control it here # Change to true to allow Ledger client mod packets networking = true # Controls whether a mod should be allowed or denyed by default allowByDefault = true # Whitelists mods to bypass the allowByDefault. Ex: [\"my_client\", \"ledger_mod\"] modWhitelist = [] # Disallows mods even if allowByDefault is enabled. Ex: [\"my_client\", \"ledger_mod\"] modBlacklist = []","title":"Configuration"},{"location":"config/#configuration","text":"Ledger's configuration file is found in config/ledger.toml . It is written in TOML and can be edited in any text editor. Any changes you make to the config will be automatically updated without needing to reload or restart the server. When checking for the config for a value, it first checks the system properties, then the system environment, then the config file and finally it will use the default. For more info, read about Konf . To regenerate the config file, simply delete it.","title":"Configuration"},{"location":"config/#database-settings","text":"Found under [database] queueTimeoutMin [Default: 5] is the maximum amount of time to wait for the queue to drain when the server stops in minutes queueCheckDelaySec [Default: 10] is the amount of time between checking if the queue is empty when the server stops in seconds","title":"Database settings"},{"location":"config/#search-settings","text":"Found under [search] pageSize [Default: 8] controls the number of actions displayed per page","title":"Search settings"},{"location":"config/#message-theme","text":"Found under [color] Ledger allows for the customisation of the colors used in the messages sent in game. By default, Ledger uses the blue theme. More themes can be found in the themes file","title":"Message theme"},{"location":"config/#filters","text":"These allow you to control what is and is not logged Found under [actions] All listed here are arrays and are formatted like so: array = [] blocks = [\"minecraft:air\", \"minecraft:dirt\"] typeBlacklist [Default: empty] controls what action types are logged. Hover over the action in a chat message to see the type worldBlacklist [Default: empty] controls in which dimensions events are logged. objectBlacklist [Default: empty] controls which objects are logged. These can be item types, block types or entities sourceBlacklist [Default: empty] controls which sources are logged. Examples are \"lava\" and \"gravity\"","title":"Filters"},{"location":"config/#default-config","text":"[database] # The maximum amount of time to wait for the queue to drain when the server stops queueTimeoutMin = 5 # The amount of time between checking if the queue is empty when the server stops queueCheckDelaySec = 10 [search] # Number of actions to show per page pageSize = 8 [color] # Colors in hex format primary = \"#009688\" primaryVariant = \"#52c7b8\" secondary = \"#1e88e5\" secondaryVariant = \"#6ab7ff\" light = \"#c5d6f0\" [actions] # Blacklists - blacklisted things will not be logged in the database # Example - Prevent all actions with stone or bat as the object from being logged # objectBlacklist = [ # \"minecraft:stone\", # \"minecraft:bat\" # ] # Blacklists action types. Ex: \"block-break\", \"entity-kill\" typeBlacklist = [] # Blacklists worlds/dimensions. Ex: \"mincraft:the_end\", \"minecraft:overworld\" worldBlacklist = [] # Blacklists objects (Items, Mobs, Blocks). Ex: \"minecraft:cobblestone\", \"minecraft:blaze\" objectBlacklist = [] # Blacklists sources. Ex: \"lava\", \"gravity\", \"fire\", \"fall\" sourceBlacklist = [] [networking] # This section relates to Ledger's ability to interact with client mods for ease of use # Networking is enabled by default but you can disable and control it here # Change to true to allow Ledger client mod packets networking = true # Controls whether a mod should be allowed or denyed by default allowByDefault = true # Whitelists mods to bypass the allowByDefault. Ex: [\"my_client\", \"ledger_mod\"] modWhitelist = [] # Disallows mods even if allowByDefault is enabled. Ex: [\"my_client\", \"ledger_mod\"] modBlacklist = []","title":"Default Config"},{"location":"install/","text":"Installation Set up a Fabric Server for 1.17 Install Fabric API Install Fabric Language Kotlin Install Ledger Run the server Adjust config as needed Run into any issues? Join our Discord for support!","title":"Installation"},{"location":"install/#installation","text":"Set up a Fabric Server for 1.17 Install Fabric API Install Fabric Language Kotlin Install Ledger Run the server Adjust config as needed Run into any issues? Join our Discord for support!","title":"Installation"},{"location":"networking/","text":"Networking Ledger supports numerous custom packets for interacting with supported client mods Packet Types The server will not respond to packets unless the player has the correct permissions, which is ledger.networking and the relevant command permission Client to Server Inspect packet Inspects a block at a given position, using the player's current dimension. This may be changed in the future Channel: ledger:inspect Buf content: Position: BlockPos Return packet type: ledger.action Search packet Channel: ledger:search Buf content: Input: String String formatted in the same way as a /lg search command would be formatted Return packet type: ledger.action Handshake packet Channel: ledger:handshake Buf content: Mod NBT: NbtCompound Mod NBT should contain the following: Mod Version ( version ) [ String ] : Fabric Loader user friendly string Mod ID ( modid ) [ String ] : Mod identifier of the mod Protocol version ( protocol_version ) [ int ] : Ledger protocol version Server to client Action packet Represents a logged action from the database Channel: ledger:action Buf content: Position: BlockPos Type: String Dimension: Identifier Old Object: Identifier New Object: Identifier Source: String Epoch second: long Additional NBT: String Handshake Sends information about Ledger to compatible clients Channel: ledger:handshake Buf content: Protocol Version: int - Version of Ledger networking protocol. Latest version (Release 1.0.0) is 0 Mod allowed: boolean","title":"Networking"},{"location":"networking/#networking","text":"Ledger supports numerous custom packets for interacting with supported client mods","title":"Networking"},{"location":"networking/#packet-types","text":"The server will not respond to packets unless the player has the correct permissions, which is ledger.networking and the relevant command permission","title":"Packet Types"},{"location":"networking/#client-to-server","text":"","title":"Client to Server"},{"location":"networking/#inspect-packet","text":"Inspects a block at a given position, using the player's current dimension. This may be changed in the future Channel: ledger:inspect Buf content: Position: BlockPos Return packet type: ledger.action","title":"Inspect packet"},{"location":"networking/#search-packet","text":"Channel: ledger:search Buf content: Input: String String formatted in the same way as a /lg search command would be formatted Return packet type: ledger.action","title":"Search packet"},{"location":"networking/#handshake-packet","text":"Channel: ledger:handshake Buf content: Mod NBT: NbtCompound Mod NBT should contain the following: Mod Version ( version ) [ String ] : Fabric Loader user friendly string Mod ID ( modid ) [ String ] : Mod identifier of the mod Protocol version ( protocol_version ) [ int ] : Ledger protocol version","title":"Handshake packet"},{"location":"networking/#server-to-client","text":"","title":"Server to client"},{"location":"networking/#action-packet","text":"Represents a logged action from the database Channel: ledger:action Buf content: Position: BlockPos Type: String Dimension: Identifier Old Object: Identifier New Object: Identifier Source: String Epoch second: long Additional NBT: String","title":"Action packet"},{"location":"networking/#handshake","text":"Sends information about Ledger to compatible clients Channel: ledger:handshake Buf content: Protocol Version: int - Version of Ledger networking protocol. Latest version (Release 1.0.0) is 0 Mod allowed: boolean","title":"Handshake"},{"location":"parameters/","text":"Parameters Parameters are used in many commands such as search and preview . They allow you to refine your selection so you only get the actions you want. Currently, there are 6 different parameters which can be found below. Action Key - action: Value - Action Identifier Multiple Allowed - Yes Example - action:block-break This parameter allows you to filter your selection based on the action type . An Action Identifier is a string with the group and type divided by a - . Dimension Key - world: Value - World Identifier Multiple Allowed - Yes Example - world:minecraft:the_end This parameter allows you to filter your selection based on the dimension. An identifier is minecraft's ID system of a namespace and a path divided by : . Object Key - object: Value - Object Identifier Multiple Allowed - Yes Example - object:minecraft:stone This parameter allows you to filter your selection based on the object. An object is ledger's name for an identifier that could be a block, item or entity. An identifier is minecraft's ID system of a namespace and a path divided by : . Range Key - range: Value - Integer > 1 Multiple Allowed - No Example - range:5 This parameter allows you to filter your selection based on your location. This will not filter by your dimension, so you may still get results from other worlds. Use the dimension parameter to filter by world. Source Key - source: Value - Source Name Multiple Allowed - Yes Example - source:Potatoboy9999 source:@tnt This parameter allows you to filter your selection based on the source of the action. To filter based on a specific player, simply use that players name. To filter based on any other source, you must use an @ symbol. Time Key - time: Value - Time Duration Multiple Allowed - No Example - time:3h This parameter allows you to filter your selection based on time. It will select actions within the duration specified. You can specify durations with s econd, m inute, h our, d ay and w eek. You can also combine multiple durations for example 7w4d31m42s .","title":"Parameters"},{"location":"parameters/#parameters","text":"Parameters are used in many commands such as search and preview . They allow you to refine your selection so you only get the actions you want. Currently, there are 6 different parameters which can be found below.","title":"Parameters"},{"location":"parameters/#action","text":"Key - action: Value - Action Identifier Multiple Allowed - Yes Example - action:block-break This parameter allows you to filter your selection based on the action type . An Action Identifier is a string with the group and type divided by a - .","title":"Action"},{"location":"parameters/#dimension","text":"Key - world: Value - World Identifier Multiple Allowed - Yes Example - world:minecraft:the_end This parameter allows you to filter your selection based on the dimension. An identifier is minecraft's ID system of a namespace and a path divided by : .","title":"Dimension"},{"location":"parameters/#object","text":"Key - object: Value - Object Identifier Multiple Allowed - Yes Example - object:minecraft:stone This parameter allows you to filter your selection based on the object. An object is ledger's name for an identifier that could be a block, item or entity. An identifier is minecraft's ID system of a namespace and a path divided by : .","title":"Object"},{"location":"parameters/#range","text":"Key - range: Value - Integer > 1 Multiple Allowed - No Example - range:5 This parameter allows you to filter your selection based on your location. This will not filter by your dimension, so you may still get results from other worlds. Use the dimension parameter to filter by world.","title":"Range"},{"location":"parameters/#source","text":"Key - source: Value - Source Name Multiple Allowed - Yes Example - source:Potatoboy9999 source:@tnt This parameter allows you to filter your selection based on the source of the action. To filter based on a specific player, simply use that players name. To filter based on any other source, you must use an @ symbol.","title":"Source"},{"location":"parameters/#time","text":"Key - time: Value - Time Duration Multiple Allowed - No Example - time:3h This parameter allows you to filter your selection based on time. It will select actions within the duration specified. You can specify durations with s econd, m inute, h our, d ay and w eek. You can also combine multiple durations for example 7w4d31m42s .","title":"Time"},{"location":"queue/","text":"Queue Whenever an action happens, it is added to the database queue. Often, the queue will be empty, and it will be instantly inserted into the database. If there is lots of players or something like an explosion creating lots of actions, the queue may fill up and it could take a while for actions to be logged. You can see the status of your database queue by using the status command . If the server stops while there is still actions in the queue that need to be logged, it will force the server to wait until it is finished logging the actions or until it times out. You can adjust the timeout in the config","title":"Queue"},{"location":"queue/#queue","text":"Whenever an action happens, it is added to the database queue. Often, the queue will be empty, and it will be instantly inserted into the database. If there is lots of players or something like an explosion creating lots of actions, the queue may fill up and it could take a while for actions to be logged. You can see the status of your database queue by using the status command . If the server stops while there is still actions in the queue that need to be logged, it will force the server to wait until it is finished logging the actions or until it times out. You can adjust the timeout in the config","title":"Queue"},{"location":"themes/","text":"Ledger Chat Themes This is a list of preset themes for your Ledger messages. Copy/paste the block into your color section to use Default blue [color] # Colors in hex format primary = \"#009688\" primaryVariant = \"#52c7b8\" secondary = \"#1e88e5\" secondaryVariant = \"#6ab7ff\" light = \"#c5d6f0\" Red [color] # Colors in hex format primary = \"#A4243B\" primaryVariant = \"#C8973C\" secondary = \"#BD632F\" secondaryVariant = \"#D8C99B\" light = \"#ccc8c8\" Green [color] # Colors in hex format primary = \"#2A993F\" primaryVariant = \"#b0c196\" secondary = \"#20D44D\" secondaryVariant = \"#279639\" light = \"#c9c9c9\"","title":"Themes"},{"location":"themes/#ledger-chat-themes","text":"This is a list of preset themes for your Ledger messages. Copy/paste the block into your color section to use","title":"Ledger Chat Themes"},{"location":"themes/#default-blue","text":"[color] # Colors in hex format primary = \"#009688\" primaryVariant = \"#52c7b8\" secondary = \"#1e88e5\" secondaryVariant = \"#6ab7ff\" light = \"#c5d6f0\"","title":"Default blue"},{"location":"themes/#red","text":"[color] # Colors in hex format primary = \"#A4243B\" primaryVariant = \"#C8973C\" secondary = \"#BD632F\" secondaryVariant = \"#D8C99B\" light = \"#ccc8c8\"","title":"Red"},{"location":"themes/#green","text":"[color] # Colors in hex format primary = \"#2A993F\" primaryVariant = \"#b0c196\" secondary = \"#20D44D\" secondaryVariant = \"#279639\" light = \"#c9c9c9\"","title":"Green"},{"location":"commands/inspect/","text":"Inspect /ledger inspect Alias: i Permission: ledger.commands.inspect /ledger inspect <x> <y> <z> This command will inspect the logs at a specific location /ledger inspect This command toggles Inspect Mode for the player than ran it Inspect Mode Left click a block - Inspect the block clicked Right click a block - Inspect the block on the side clicked /ledger inspect on This command will toggle inspect mode on /ledger inspect off This command will toggle inspect mode off","title":"Inspect"},{"location":"commands/inspect/#inspect","text":"/ledger inspect Alias: i Permission: ledger.commands.inspect","title":"Inspect"},{"location":"commands/inspect/#ledger-inspect-x-y-z","text":"This command will inspect the logs at a specific location","title":"/ledger inspect &lt;x&gt; &lt;y&gt; &lt;z&gt;"},{"location":"commands/inspect/#ledger-inspect","text":"This command toggles Inspect Mode for the player than ran it Inspect Mode Left click a block - Inspect the block clicked Right click a block - Inspect the block on the side clicked","title":"/ledger inspect"},{"location":"commands/inspect/#ledger-inspect-on","text":"This command will toggle inspect mode on","title":"/ledger inspect on"},{"location":"commands/inspect/#ledger-inspect-off","text":"This command will toggle inspect mode off","title":"/ledger inspect off"},{"location":"commands/page/","text":"Page /ledger page Alias: pg Permission: None /ledger page <page> This command allows you to manually jump to a specific page instead of using the page buttons. This can allow you to quickly go to where you want.","title":"Page"},{"location":"commands/page/#page","text":"/ledger page Alias: pg Permission: None","title":"Page"},{"location":"commands/page/#ledger-page-page","text":"This command allows you to manually jump to a specific page instead of using the page buttons. This can allow you to quickly go to where you want.","title":"/ledger page &lt;page&gt;"},{"location":"commands/preview/","text":"Preview /ledger preview Alias: pv Permission: ledger.commands.preview /ledger preview rollback <params> This command will find all actions that match the parameters that haven't already been rolled back. It will then send a preview of what the world would look like with all the selected actions undone. This is much safer than using the raw rollback command and is highly recommended over it. Supported Previews Block /ledger preview restore <params> Similar to /ledger preview rollback , this command will find all actions that match the parameters that have already been rolled back. It will then send a preview of what the world would look like with all the selected actions re-applied. This is much safer than using the raw preview command and is highly recommended over it. Supported Previews Block /ledger preview apply This will apply your current preview to the world if you have one. /ledger preview cancel This will cancel your current preview if you have one.","title":"Preview"},{"location":"commands/preview/#preview","text":"/ledger preview Alias: pv Permission: ledger.commands.preview","title":"Preview"},{"location":"commands/preview/#ledger-preview-rollback-params","text":"This command will find all actions that match the parameters that haven't already been rolled back. It will then send a preview of what the world would look like with all the selected actions undone. This is much safer than using the raw rollback command and is highly recommended over it. Supported Previews Block","title":"/ledger preview rollback &lt;params&gt;"},{"location":"commands/preview/#ledger-preview-restore-params","text":"Similar to /ledger preview rollback , this command will find all actions that match the parameters that have already been rolled back. It will then send a preview of what the world would look like with all the selected actions re-applied. This is much safer than using the raw preview command and is highly recommended over it. Supported Previews Block","title":"/ledger preview restore &lt;params&gt;"},{"location":"commands/preview/#ledger-preview-apply","text":"This will apply your current preview to the world if you have one.","title":"/ledger preview apply"},{"location":"commands/preview/#ledger-preview-cancel","text":"This will cancel your current preview if you have one.","title":"/ledger preview cancel"},{"location":"commands/restore/","text":"Restore /ledger restore Alias: None Permission: ledger.commands.rollback /ledger restore <params> This command will find all actions that match the parameters that have already been rolled back. It will then undo all possible selected actions. Basically, it undoes rollbacks . It is highly recommended to use the preview command instead to make sure you are doing what you want. Supported Restores Block Item Entity","title":"Restore"},{"location":"commands/restore/#restore","text":"/ledger restore Alias: None Permission: ledger.commands.rollback","title":"Restore"},{"location":"commands/restore/#ledger-restore-params","text":"This command will find all actions that match the parameters that have already been rolled back. It will then undo all possible selected actions. Basically, it undoes rollbacks . It is highly recommended to use the preview command instead to make sure you are doing what you want. Supported Restores Block Item Entity","title":"/ledger restore &lt;params&gt;"},{"location":"commands/rollback/","text":"Rollback /ledger rollback Alias: rb Permission: ledger.commands.rollback /ledger rollback <params> This command will find all actions that match the parameters that haven't already been rolled back. It will then undo all possible selected actions. To reverse a rollback, use the restore command . It is highly recommended to use the preview command instead to make sure you are doing what you want. Supported Rollbacks Block Item Entity","title":"Rollback"},{"location":"commands/rollback/#rollback","text":"/ledger rollback Alias: rb Permission: ledger.commands.rollback","title":"Rollback"},{"location":"commands/rollback/#ledger-rollback-params","text":"This command will find all actions that match the parameters that haven't already been rolled back. It will then undo all possible selected actions. To reverse a rollback, use the restore command . It is highly recommended to use the preview command instead to make sure you are doing what you want. Supported Rollbacks Block Item Entity","title":"/ledger rollback &lt;params&gt;"},{"location":"commands/root/","text":"Root /ledger Alias: lg Permission: ledger.commands.root This is the central command to ledger that grants access to all other commands.","title":"Root"},{"location":"commands/root/#root","text":"/ledger Alias: lg Permission: ledger.commands.root This is the central command to ledger that grants access to all other commands.","title":"Root"},{"location":"commands/search/","text":"Search /ledger search Alias: s Permission: ledger.commands.search /ledger search <params> Often, inspecting just one position is not what you want. The search command allows you to preform advanced queries on the database. To refine your search, use search parameters . After executing your search, you will see all the results and can paginate between them if needed. Display: Time ago Source of the action Action that occurred Object that was changed Location Hover: Exact time Action identifier Object identifier Teleport on click Order can be customized, see configuration","title":"Search"},{"location":"commands/search/#search","text":"/ledger search Alias: s Permission: ledger.commands.search","title":"Search"},{"location":"commands/search/#ledger-search-params","text":"Often, inspecting just one position is not what you want. The search command allows you to preform advanced queries on the database. To refine your search, use search parameters . After executing your search, you will see all the results and can paginate between them if needed. Display: Time ago Source of the action Action that occurred Object that was changed Location Hover: Exact time Action identifier Object identifier Teleport on click Order can be customized, see configuration","title":"/ledger search &lt;params&gt;"},{"location":"commands/status/","text":"Status /ledger status Alias: None Permission: ledger.commands.status /ledger status This command will give you the following information. Info Explanation Version The current version of Ledger on your server Queue Status Whether or not the queue is free or busy . Discord A link to the Fabric Server Tools discord for support","title":"Status"},{"location":"commands/status/#status","text":"/ledger status Alias: None Permission: ledger.commands.status","title":"Status"},{"location":"commands/status/#ledger-status","text":"This command will give you the following information. Info Explanation Version The current version of Ledger on your server Queue Status Whether or not the queue is free or busy . Discord A link to the Fabric Server Tools discord for support","title":"/ledger status"},{"location":"commands/teleport/","text":"Teleport /ledger tp Alias: None Permission: ledger.commands.tp /ledger tp <world> <x> <y> <z> This command allows players to teleport to a specific location in a world. This is mainly used internally for teleporting to locations in search results.","title":"Teleport"},{"location":"commands/teleport/#teleport","text":"/ledger tp Alias: None Permission: ledger.commands.tp","title":"Teleport"},{"location":"commands/teleport/#ledger-tp-world-x-y-z","text":"This command allows players to teleport to a specific location in a world. This is mainly used internally for teleporting to locations in search results.","title":"/ledger tp &lt;world&gt; &lt;x&gt; &lt;y&gt; &lt;z&gt;"}]}